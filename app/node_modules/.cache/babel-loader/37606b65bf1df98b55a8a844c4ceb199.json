{"ast":null,"code":"import _slicedToArray from\"/EX_WIN/PROJECTS/MyGithub/emails-app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import appConstants from\"common/appConstants\";import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import css from\"./Main.module.scss\";import Modal from'components/Modal';import YesNoDialog from'components/Modal/YesNoDialog';import{persistor}from'store/store';import{useDispatch}from'react-redux';import{clearUsers}from'store/users/actions';import{clearMessages}from'store/messages/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showDialog=_useState2[0],setShowDialog=_useState2[1];var onClickCleanUp=function onClickCleanUp(e){e&&e.stopPropagation&&e.stopPropagation();setShowDialog(true);};var onClose=function onClose(e){e&&e.stopPropagation&&e.stopPropagation();setShowDialog(false);};var onSuccess=function onSuccess(e){e&&e.stopPropagation&&e.stopPropagation();persistor.purge();dispatch(clearMessages());dispatch(clearUsers());setShowDialog(false);};return/*#__PURE__*/_jsx(\"div\",{className:css.Container,children:/*#__PURE__*/_jsx(\"div\",{className:css.Content,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:css.LinkBlock,children:/*#__PURE__*/_jsx(Link,{to:appConstants.router.sendForm,children:\"Send e-mail\"})}),/*#__PURE__*/_jsx(\"div\",{className:css.LinkBlock,children:/*#__PURE__*/_jsx(Link,{to:appConstants.router.inbox,children:\"Inbox\"})}),/*#__PURE__*/_jsx(\"div\",{className:css.LinkBlock,children:/*#__PURE__*/_jsx(Link,{to:appConstants.router.outbox,children:\"Outbox\"})}),/*#__PURE__*/_jsx(\"div\",{className:css.LinkBlock,children:/*#__PURE__*/_jsx(\"button\",{onClick:onClickCleanUp,className:css.RemoveButton,children:\"Remove persistent data\"})}),showDialog&&/*#__PURE__*/_jsx(Modal,{onClose:onClose,autoHeight:true,children:/*#__PURE__*/_jsx(YesNoDialog,{text:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:\"It will remove all data from the persistent storage.\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Are you sure?\"})]}),onSuccess:onSuccess,header:\"Cleaning up storage\",onClose:onClose})})]})})});};export default Main;","map":{"version":3,"sources":["/EX_WIN/PROJECTS/MyGithub/emails-app/app/src/containers/Main/index.js"],"names":["appConstants","React","useState","Link","css","Modal","YesNoDialog","persistor","useDispatch","clearUsers","clearMessages","Main","dispatch","showDialog","setShowDialog","onClickCleanUp","e","stopPropagation","onClose","onSuccess","purge","Container","Content","LinkBlock","router","sendForm","inbox","outbox","RemoveButton"],"mappings":"+JAAA,MAAOA,CAAAA,YAAP,KAAyB,qBAAzB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,kBAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,UAAT,KAA2B,qBAA3B,CACA,OAASC,aAAT,KAA8B,wBAA9B,C,6IAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACf,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CADe,cAEuBN,QAAQ,CAAC,KAAD,CAF/B,wCAEPW,UAFO,eAEKC,aAFL,eAGf,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,CAAD,CAAO,CAC1BA,CAAC,EAAIA,CAAC,CAACC,eAAP,EAA0BD,CAAC,CAACC,eAAF,EAA1B,CACAH,aAAa,CAAC,IAAD,CAAb,CACH,CAHD,CAKA,GAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACF,CAAD,CAAO,CACnBA,CAAC,EAAIA,CAAC,CAACC,eAAP,EAA0BD,CAAC,CAACC,eAAF,EAA1B,CACAH,aAAa,CAAC,KAAD,CAAb,CACH,CAHD,CAKA,GAAMK,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACH,CAAD,CAAO,CACrBA,CAAC,EAAIA,CAAC,CAACC,eAAP,EAA0BD,CAAC,CAACC,eAAF,EAA1B,CACAV,SAAS,CAACa,KAAV,GACAR,QAAQ,CAACF,aAAa,EAAd,CAAR,CACAE,QAAQ,CAACH,UAAU,EAAX,CAAR,CACAK,aAAa,CAAC,KAAD,CAAb,CACH,CAND,CAQA,mBACI,YAAK,SAAS,CAAEV,GAAG,CAACiB,SAApB,uBACI,YAAK,SAAS,CAAEjB,GAAG,CAACkB,OAApB,uBACI,oCACI,YAAK,SAAS,CAAElB,GAAG,CAACmB,SAApB,uBACI,KAAC,IAAD,EAAM,EAAE,CAAEvB,YAAY,CAACwB,MAAb,CAAoBC,QAA9B,yBADJ,EADJ,cAII,YAAK,SAAS,CAAErB,GAAG,CAACmB,SAApB,uBACI,KAAC,IAAD,EAAM,EAAE,CAAEvB,YAAY,CAACwB,MAAb,CAAoBE,KAA9B,mBADJ,EAJJ,cAOI,YAAK,SAAS,CAAEtB,GAAG,CAACmB,SAApB,uBACI,KAAC,IAAD,EAAM,EAAE,CAAEvB,YAAY,CAACwB,MAAb,CAAoBG,MAA9B,oBADJ,EAPJ,cAUI,YAAK,SAAS,CAAEvB,GAAG,CAACmB,SAApB,uBACI,eAAQ,OAAO,CAAER,cAAjB,CAAiC,SAAS,CAAEX,GAAG,CAACwB,YAAhD,oCADJ,EAVJ,CAcKf,UAAU,eAAI,KAAC,KAAD,EAAO,OAAO,CAAEK,OAAhB,CAAyB,UAAU,KAAnC,uBACX,KAAC,WAAD,EAAa,IAAI,cAAE,wCACf,6EADe,cAEf,sCAFe,GAAnB,CAGK,SAAS,CAAEC,SAHhB,CAG2B,MAAM,CAAC,qBAHlC,CAGwD,OAAO,CAAED,OAHjE,EADW,EAdnB,GADJ,EADJ,EADJ,CA2BH,CAhDD,CAkDA,cAAeP,CAAAA,IAAf","sourcesContent":["import appConstants from \"common/appConstants\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport css from \"./Main.module.scss\";\nimport Modal from 'components/Modal';\nimport YesNoDialog from 'components/Modal/YesNoDialog';\nimport { persistor } from 'store/store'\nimport { useDispatch } from 'react-redux';\nimport { clearUsers } from 'store/users/actions';\nimport { clearMessages } from 'store/messages/actions';\n\nconst Main = () => {\n    const dispatch = useDispatch()\n    const [ showDialog, setShowDialog ] = useState(false)\n    const onClickCleanUp = (e) => {\n        e && e.stopPropagation && e.stopPropagation()\n        setShowDialog(true)\n    }\n    \n    const onClose = (e) => {\n        e && e.stopPropagation && e.stopPropagation()\n        setShowDialog(false)\n    }\n    \n    const onSuccess = (e) => {\n        e && e.stopPropagation && e.stopPropagation()\n        persistor.purge()\n        dispatch(clearMessages())\n        dispatch(clearUsers())\n        setShowDialog(false)\n    }\n    \n    return (\n        <div className={css.Container}>\n            <div className={css.Content}>\n                <div>\n                    <div className={css.LinkBlock}>\n                        <Link to={appConstants.router.sendForm}>Send e-mail</Link>\n                    </div>\n                    <div className={css.LinkBlock}>\n                        <Link to={appConstants.router.inbox}>Inbox</Link>\n                    </div>\n                    <div className={css.LinkBlock}>\n                        <Link to={appConstants.router.outbox}>Outbox</Link>\n                    </div>\n                    <div className={css.LinkBlock}>\n                        <button onClick={onClickCleanUp} className={css.RemoveButton}>Remove persistent data</button>\n                    </div>\n                    \n                    {showDialog && <Modal onClose={onClose} autoHeight>\n                        <YesNoDialog text={<>\n                            <div>It will remove all data from the persistent storage.</div>\n                            <div>Are you sure?</div>\n                        </>} onSuccess={onSuccess} header='Cleaning up storage' onClose={onClose}/>\n                    </Modal>}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}