{"ast":null,"code":"import _defineProperty from\"/EX_WIN/PROJECTS/MyGithub/emails-app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/EX_WIN/PROJECTS/MyGithub/emails-app/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import appConstants from\"common/appConstants\";import React,{useCallback}from\"react\";import{useForm}from\"react-hook-form\";import css from\"./SendForm.module.scss\";import ClassNames from\"classnames\";import{useDispatch}from\"react-redux\";import{addMessage}from\"store/messages/actions\";import uuid from\"react-uuid\";import cssMain from'../Main/Main.module.scss';import history from'common/history';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SendForm=function SendForm(){var dispatch=useDispatch();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var onSuccess=useCallback(function(data){dispatch(addMessage(_objectSpread(_objectSpread({},data),{},{createdAt:new Date().getTime(),messageId:uuid()})));},[dispatch]);var onFailure=useCallback(function(error){console.log(error);},[]);var onGoHome=function onGoHome(e){e&&e.stopPropagation&&e.stopPropagation();history.push(appConstants.router.root);};return/*#__PURE__*/_jsx(\"div\",{className:css.Form,children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSuccess,onFailure),children:/*#__PURE__*/_jsxs(\"div\",{className:css.FormContent,children:[/*#__PURE__*/_jsxs(\"div\",{className:css.FormHead,children:[/*#__PURE__*/_jsx(\"div\",{className:cssMain.HomeButton,onClick:onGoHome,children:\"\\uD83C\\uDFE0\"}),\"Send email\"]}),/*#__PURE__*/_jsxs(\"div\",{className:css.InputBlock,children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Id\"}),/*#__PURE__*/_jsx(\"input\",{className:ClassNames(_defineProperty({},css.Invalid,!!errors.userId)),name:\"userId\",placeholder:\"User Id\",ref:register({required:\"userId field is required\",maxLength:{value:100,message:\"max length is 100\"}})}),errors.userId&&/*#__PURE__*/_jsx(\"div\",{className:css.Message,children:errors.userId.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:css.InputBlock,children:[/*#__PURE__*/_jsx(\"label\",{children:\"User Name\"}),/*#__PURE__*/_jsx(\"input\",{className:ClassNames(_defineProperty({},css.Invalid,!!errors.username)),name:\"username\",placeholder:\"User Name\",ref:register({required:\"username field is required\",minLength:{value:2,message:\"min length is 2\"},maxLength:{value:100,message:\"max length is 100\"}})}),errors.username&&/*#__PURE__*/_jsx(\"div\",{className:css.Message,children:errors.username.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:css.InputBlock,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Destimation\"}),/*#__PURE__*/_jsxs(\"select\",{className:ClassNames(_defineProperty({},css.Invalid,!!errors.destination)),name:\"destination\",placeholder:\"Select...\",ref:register({required:true}),children:[/*#__PURE__*/_jsx(\"option\",{value:appConstants.destinations.inbox,children:\"Inbox\"}),/*#__PURE__*/_jsx(\"option\",{value:appConstants.destinations.outbox,children:\"Outbox\"})]}),errors.destination&&/*#__PURE__*/_jsx(\"div\",{className:css.Message,children:errors.destination.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:css.InputBlock,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"input\",{className:ClassNames(_defineProperty({},css.Invalid,!!errors.subject)),name:\"subject\",placeholder:\"Subject\",ref:register({required:\"subject field is required\",minLength:{value:5,message:\"min length is 5\"},maxLength:{value:100,message:\"max length is 100\"}})}),errors.subject&&/*#__PURE__*/_jsx(\"div\",{className:css.Message,children:errors.subject.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:css.InputBlock,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Body\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:5,className:ClassNames(_defineProperty({},css.Invalid,!!errors.body)),name:\"body\",placeholder:\"Body\",ref:register({required:\"body field is required\",minLength:{value:5,message:\"min length is 5\"},maxLength:{value:200,message:\"max length is 200\"}}),children:''}),errors.body&&/*#__PURE__*/_jsx(\"div\",{className:css.Message,children:errors.body.message})]}),/*#__PURE__*/_jsx(\"div\",{className:css.InputBlock,children:/*#__PURE__*/_jsx(\"button\",{className:css.Submit,type:\"submit\",children:\"Submit\"})})]})})});};export default SendForm;","map":{"version":3,"sources":["/EX_WIN/PROJECTS/MyGithub/emails-app/app/src/containers/SendForm/index.js"],"names":["appConstants","React","useCallback","useForm","css","ClassNames","useDispatch","addMessage","uuid","cssMain","history","SendForm","dispatch","register","handleSubmit","errors","onSuccess","data","createdAt","Date","getTime","messageId","onFailure","error","console","log","onGoHome","e","stopPropagation","push","router","root","Form","FormContent","FormHead","HomeButton","InputBlock","Invalid","userId","required","maxLength","value","message","Message","username","minLength","destination","destinations","inbox","outbox","subject","body","Submit"],"mappings":"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","sourcesContent":["import appConstants from \"common/appConstants\";\nimport React, { useCallback } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport css from \"./SendForm.module.scss\";\nimport ClassNames from \"classnames\";\nimport { useDispatch } from \"react-redux\";\nimport { addMessage } from \"store/messages/actions\";\nimport uuid from \"react-uuid\";\nimport cssMain from '../Main/Main.module.scss';\nimport history from 'common/history';\n\nconst SendForm = () => {\n    const dispatch = useDispatch();\n    const { register, handleSubmit, errors } = useForm();\n    const onSuccess = useCallback((data) => {\n        dispatch(\n            addMessage({\n                ...data,\n                createdAt: new Date().getTime(),\n                messageId: uuid(),\n            })\n        );\n    }, [ dispatch ]);\n    \n    const onFailure = useCallback((error) => {\n        console.log(error);\n    }, []);\n    \n    const onGoHome = (e) => {\n        e && e.stopPropagation && e.stopPropagation()\n        history.push(appConstants.router.root)\n    }\n    \n    return (\n        <div className={css.Form}>\n            \n            <form onSubmit={handleSubmit(onSuccess, onFailure)}>\n                <div className={css.FormContent}>\n                    <div className={css.FormHead}>\n                        <div className={cssMain.HomeButton} onClick={onGoHome}>&#127968;</div>\n                        Send email\n                    </div>\n                    <div className={css.InputBlock}>\n                        <label>User Id</label>\n                        <input\n                            className={ClassNames({ [ css.Invalid ]: !!errors.userId })}\n                            name=\"userId\"\n                            placeholder=\"User Id\"\n                            ref={register({\n                                required: \"userId field is required\",\n                                maxLength: { value: 100, message: \"max length is 100\" },\n                            })}\n                        />\n                        {errors.userId && (\n                            <div className={css.Message}>{errors.userId.message}</div>\n                        )}\n                    </div>\n                    <div className={css.InputBlock}>\n                        <label>User Name</label>\n                        <input\n                            className={ClassNames({ [ css.Invalid ]: !!errors.username })}\n                            name=\"username\"\n                            placeholder=\"User Name\"\n                            ref={register({\n                                required: \"username field is required\",\n                                minLength: { value: 2, message: \"min length is 2\" },\n                                maxLength: { value: 100, message: \"max length is 100\" },\n                            })}\n                        />\n                        {errors.username && (\n                            <div className={css.Message}>{errors.username.message}</div>\n                        )}\n                    </div>\n                    <div className={css.InputBlock}>\n                        <label>Destimation</label>\n                        <select\n                            className={ClassNames({ [ css.Invalid ]: !!errors.destination })}\n                            name=\"destination\"\n                            placeholder=\"Select...\"\n                            ref={register({ required: true })}\n                        >\n                            <option value={appConstants.destinations.inbox}>Inbox</option>\n                            <option value={appConstants.destinations.outbox}>Outbox</option>\n                        </select>\n                        {errors.destination && (\n                            <div className={css.Message}>{errors.destination.message}</div>\n                        )}\n                    </div>\n                    <div className={css.InputBlock}>\n                        <label>Subject</label>\n                        <input\n                            className={ClassNames({ [ css.Invalid ]: !!errors.subject })}\n                            name=\"subject\"\n                            placeholder=\"Subject\"\n                            ref={register({\n                                required: \"subject field is required\",\n                                minLength: { value: 5, message: \"min length is 5\" },\n                                maxLength: { value: 100, message: \"max length is 100\" },\n                            })}\n                        />\n                        {errors.subject && (\n                            <div className={css.Message}>{errors.subject.message}</div>\n                        )}\n                    </div>\n                    <div className={css.InputBlock}>\n                        <label>Body</label>\n                        <textarea rows={5}\n                                  className={ClassNames({ [ css.Invalid ]: !!errors.body })}\n                                  name=\"body\"\n                                  placeholder=\"Body\"\n                                  ref={register({\n                                      required: \"body field is required\",\n                                      minLength: { value: 5, message: \"min length is 5\" },\n                                      maxLength: { value: 200, message: \"max length is 200\" },\n                                  })}\n                        >{''}</textarea>\n                        {errors.body && (\n                            <div className={css.Message}>{errors.body.message}</div>\n                        )}\n                    </div>\n                    <div className={css.InputBlock}>\n                        <button className={css.Submit} type=\"submit\">\n                            Submit\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default SendForm;\n"]},"metadata":{},"sourceType":"module"}